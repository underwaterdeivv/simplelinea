!function(t){t(document).on("click.ssw.popover.hide","body",(function(s){t(s.target).is(".ssw-validator, .ssw-popover-inner, .ssw-popover-content")||t(".ssw-popover.ssw-validator").remove()}))}(ssw),function(t){"use strict";t.fn.sswEmulateTransitionEnd=function(s){var e=!1,o=this;t(this).one(t.support.sswTransition.end,(function(){e=!0}));return setTimeout((function(){e||t(o).trigger(t.support.sswTransition.end)}),s),this},t((function(){t.support.sswTransition=function(){var t=document.createElement("ssw-bootstrap"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var e in s)if(void 0!==t.style[e])return{end:s[e]}}()}))}(ssw),function(t){"use strict";var s=function(s,e){this.options=e,this.$element=t(s),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},s.prototype.show=function(s){var e=this,o=t.Event("show.ssw.modal",{relatedTarget:s}),i=document.body;!s||"[object HTMLDivElement]"!==s.toString()&&"[object HTMLBodyElement]"!==s.toString()||(i=s),this.$backdrop&&this.$backdrop.appendTo(document.body),this.$element.appendTo(i),this.$element.trigger(o);var n=this.$element,a=n.find(".ssw-modal-dialog"),r=function(){var t=((window.innerHeight<n[0].offsetHeight?window.innerHeight:n[0].offsetHeight)-a.find(".ssw-modal-content")[0].offsetHeight)/2;t<=0&&(t=10),a.css("padding",t+"px 10px")};if(!0===n.data("auto-align")){var d=a.find('iframe[name="ssw-resize-frame"]');d.length||(a.find(".ssw-modal-content").append('<iframe name="ssw-resize-frame" width=100% height=100% style="position: absolute !important;z-index: -10000 !important;top: 0 !important;left: 0 !important;opacity: 0 !important;"></iframe>'),d=a.find('iframe[name="ssw-resize-frame"]')),d.length&&(d[0].contentWindow.onresize=function(t){clearTimeout(this.timeoutId),clearTimeout(this.styleTimeoutId),n.css("overflow","hidden"),this.styleTimeoutId=setTimeout((function(){n.css("overflow","auto")}),350),this.timeoutId=setTimeout(r,this.delay?this.delay:0),this.delay=150})}setTimeout(r,300),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),!s||"[object HTMLDivElement]"!==s.toString()&&"[object HTMLBodyElement]"!==s.toString()?t("html").addClass("ssw-modal-open"):t(s).addClass("ssw-modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.ssw-modal",'[data-dismiss="ssw-modal"]',t.proxy(this.hide,this)),this.backdrop((function(){var o=t.support.sswTransition&&e.$element.hasClass("ssw-fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),o&&e.$element[0].offsetWidth,e.$element.addClass("ssw-in").attr("aria-hidden",!1),e.enforceFocus();var i=t.Event("shown.ssw.modal",{relatedTarget:s});o?e.$element.find(".ssw-modal-dialog").one(t.support.sswTransition.end,(function(){e.$element.focus().trigger(i)})).sswEmulateTransitionEnd(300):e.$element.focus().trigger(i)})))},s.prototype.hide=function(s){s&&s.preventDefault(),s=t.Event("hide.ssw.modal"),this.$element.trigger(s),this.isShown&&!s.isDefaultPrevented()&&(this.isShown=!1,1===t(".ssw-modal.ssw-in").length&&(t("html").removeClass("ssw-modal-open"),this.resetScrollbar()),this.escape(),t(document).off("focusin.ssw.modal"),this.$element.removeClass("ssw-in").attr("aria-hidden",!0).off("click.dismiss.ssw-modal"),t.support.sswTransition&&this.$element.hasClass("ssw-fade")?this.$element.one(t.support.sswTransition.end,t.proxy(this.hideModal,this)).sswEmulateTransitionEnd(300):this.hideModal())},s.prototype.enforceFocus=function(){t(document).off("focusin.ssw.modal").on("focusin.ssw.modal",t.proxy((function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()}),this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.ssw.modal",t.proxy((function(t){27===t.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.ssw.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.removeBackdrop(),t.$element.trigger("hidden.ssw.modal")}))},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(s){var e=this.$element.hasClass("ssw-fade")?"ssw-fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.sswTransition&&e;if("undefined"!=typeof communityActive&&communityActive?this.$backdrop=t('<div class="ssw-modal-backdrop '+e+'" />').appendTo("#ssw-community-box > .ssw-community-body"):this.$backdrop=t('<div class="ssw-modal-backdrop '+e+'" />').appendTo(document.body),this.$element.on("click.dismiss.ssw-modal",t.proxy((function(t){t.target===t.currentTarget&&("static"===this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("ssw-in"),!s)return;o?this.$backdrop.one(t.support.sswTransition.end,s).sswEmulateTransitionEnd(150):s()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("ssw-in"),t.support.sswTransition&&this.$element.hasClass("ssw-fade")?this.$backdrop.one(t.support.sswTransition.end,s).sswEmulateTransitionEnd(150):s()):s&&s()},s.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},s.prototype.setScrollbar=function(){if("undefined"==typeof communityActive||"undefined"!=typeof communityActive&&!communityActive){var s=parseInt(t("html").css("padding-right")||0,10);this.scrollbarWidth&&0===t(".ssw-modal.ssw-in").length&&t("html").css("padding-right",s+this.scrollbarWidth)}},s.prototype.resetScrollbar=function(){t("html").css("padding-right","")},s.prototype.measureScrollbar=function(){var s=document.createElement("div");s.className="ssw-modal-scrollbar-measure",t(document.body).append(s);var e=s.offsetWidth-s.clientWidth;return t(document.body)[0].removeChild(s),e};var e=t.fn.sswModal;t.fn.sswModal=function(e,o){return this.each((function(){var i=t(this),n=i.data("ssw.ssw-modal"),a=t.extend({},s.DEFAULTS,i.data(),"object"==typeof e&&e);n||i.data("ssw.ssw-modal",n=new s(this,a)),"string"==typeof e?n[e](o):a.show&&n.show(o)}))},t.fn.sswModal.Constructor=s,t.fn.sswModal.noConflict=function(){return t.fn.sswModal=e,this},t(document).on("click.ssw.modal.data-api",'[data-toggle="ssw-modal"]',(function(s){var e=t(this),o=e.attr("href"),i=t(e.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),n=i.data("ssw-modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},i.data(),e.data());s.preventDefault(),i.sswModal(n,this).one("hide",(function(){e.is(":visible")&&e.focus()}))}))}(ssw);